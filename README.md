# AutoJump 项目说明

## 项目简介

AutoJump 是一个基于 Python 和 Pygame 的辅助工具，用于模拟微信跳一跳游戏中的跳跃操作。该工具通过截取游戏区域截图，自动识别棋子和目标方块的位置，计算跳跃距离，并模拟鼠标长按实现精准跳跃，帮助玩家自动完成跳跃。

---

## 功能特性

* **游戏区域截屏**：自动截取指定的微信跳一跳游戏区域作为背景。
* **棋子和目标识别**：基于截图自动识别棋子底部位置和跳跃目标方块中心坐标。
* **自定义跳跃系数**：用户可以调整跳跃距离与按压时间的换算系数，实现精准跳跃。
* **模拟鼠标长按**：根据计算的跳跃距离自动模拟鼠标长按，完成跳跃动作。
* **交互式界面**：

  * 通过拖拽红色（棋子）、绿色（目标）、蓝色（按压点）三个点来自定义位置。
  * 提供增加/减少跳跃系数按钮和快捷键。
  * 支持自动识别目标方块位置的自动目标按钮。
* **自动移动点**: 在每次跳跃完成后会将红点自动移到棋子上（仅黑棋可识别），无需手动移动，非常精准！
* **跳跃次数统计**及跳跃成功提示。
* **支持键盘快捷操作**：

  * 空格键执行跳跃
  * R键重置点位
  * C键重新截屏
  * 上下方向键调整跳跃系数
  * ESC键退出程序

---

## 技术细节

* **开发语言**：Python 3
* **依赖库**：

  * `pygame`：负责图形界面、事件处理和绘制。
  * `pyautogui`：用于模拟鼠标移动和点击操作。
  * `Pillow` (`PIL`)：用于图像处理和截图。
* **核心逻辑**：

  * 通过 `ImageGrab` 截取游戏窗口画面。
  * 识别棋子底部和目标方块的颜色范围，确定位置。
  * 计算两点距离，结合用户调整的跳跃系数，计算鼠标长按时长。
  * 调用 `pyautogui` 实现鼠标移动和长按操作。
* **界面设计**：

  * 使用 Pygame 显示游戏区域截图及交互点。
  * 绘制连接线和距离文字辅助判断。
  * 按钮和提示文字方便用户操作和调整参数。

---

## 使用说明

1. 安装依赖库：

   ```bash
   pip install pygame pyautogui pillow
   ```

2. 运行程序：

   ```bash
   python main.py
   ```

3. 操作指南：

   * 拖拽三个彩色点来调整棋子位置（红）、目标方块位置（绿）和鼠标点击位置（蓝）。
   * 点击右侧按钮或使用快捷键来调节跳跃系数、自动识别目标、执行跳跃等操作。
   * 按空格键执行跳跃，跳跃后会自动刷新截图和尝试自动调整棋子位置。
   * 按 `R` 重置点位置，按 `C` 重新截图，按上下箭头调整跳跃系数。
   * 按 `ESC` 退出程序。

4. 注意事项：

   * 程序需在 Windows 系统中运行，且微信跳一跳窗口需位于指定区域（默认 `LEFT=980, TOP=137`），可根据需要修改代码中 `GAME_REGION` 参数。
   * 跳跃系数需根据设备实际情况调试，防止跳跃过远或不足。

---

## 代码结构简述

* **`Point` 类**：表示界面中的可拖拽点，包含绘制和拖拽逻辑。
* **截图函数**：`capture_game_region()`，截取并加载游戏窗口画面。
* **识别函数**：

  * `find_piece_position()`：基于颜色范围扫描识别棋子位置。
  * `find_block_target()`：基于颜色边缘检测识别跳跃目标方块。
* **跳跃函数**：`simulate_jump()` 根据距离和跳跃系数模拟鼠标长按跳跃。
* **界面交互**：主循环中处理鼠标、键盘事件及绘制界面。

---

## 版权及许可

本项目仅供学习和研究使用，禁止用于任何商业用途。请遵守微信跳一跳游戏的使用条款，合理使用辅助工具。

---

运行图片：
![image](https://github.com/user-attachments/assets/c00aba42-f9b3-4cf8-a142-d18a9ac851b7)

借助“小手段” + 该代码辅助后：
![11f9b615bc2673ab9a430012f5c518c](https://github.com/user-attachments/assets/3c2522e6-48d7-4be4-9c29-15c56e5b2c6d)

